
# 1226

![](./bg-imgs/1226.jpg)


## 1226 今日计划
> 每天工作前/前一天晚上 做好计划：重点工作、自我提升、其他，[提交地址](https://github.com/cuixiaorui/study-every-day/issues)

**重点工作**

- [ ] 工作1
- [ ] 工作2

**自我提升**

- [ ] 学习1
- [ ] 学习2

**其他**

- [ ] 锻炼1
- [ ] 阅读2
- [ ] shopping3

## 今日总结
> 问题，原因，解决方式，优化，巧妙实现，新知识



---



## 手撕代码/算法
> 防抖节流等各种手写，http和网络，浏览器原理，性能优化，Webpack

使用 setTmeout 模拟 setInterval


看看 使用 setInterval 的例子；

```js
let timer = setInterval(() => {
  count ++
  console.log(count)
  if (count === 10) {
    clearInterval(timer)
  }
}, 1000);
```

接下来使用 setTimeout 来模拟实现：

```js
let count = 0

let timer = setTimeout(function run() {
  count ++
  console.log(count)
  if (count === 10) {
    clearInterval(timer)
    return
  }
  timer = setTimeout(run, 1000);
}, 1000);

```

实现核心难点：`timer = setTimeout(run, 1000);` timer 这里要重新赋值为定时器



为什么要使用 setTimeout 模拟 setInterval ？

在 setInterval(fn, delay) 中，若 fn 的执行耗时比较久，那么后面的执行的时间间隔，实际并不是 delay 的时间

setInterval 缺点：

- 某些间隔会被跳过（丢帧现象）
- 定时器之间的间隔会比预期小


参考资料：

- [JS进阶 -- setTimeout 模拟 setInterval](https://www.jianshu.com/p/a3910f0628ce)
- [为什么要用 setTimeout 模拟 setInterval ？](https://segmentfault.com/a/1190000038829248)


---

- 驼峰命名 转 下划线

```js
const toLine = (str) => str.replace(/\B([A-Z])/g, '_$1').toLowerCase()

// toLine('GetElementById')
// 'get_element_by_id'
```

说明，正则表达式里面的 `\B` 表示 非单词边界的位置， `\b` 表示单词边界的位置

正则里面 `\B` 放在了第一个字符匹配，表示第一个字符占位不匹配，就不会被替换为 `_$1`

- 下划线命名 转 驼峰命名

```js
const toHump = (str) => str.replace(/\_(\w)/g, (all, letter) => letter.toUpperCase())

// toHump('get_element_by_id')
// 'getElementById'
```


## 好文推荐/面经相关/博客项目推荐
> 有感好文，面经，博客，项目等


## 其他/TODOS