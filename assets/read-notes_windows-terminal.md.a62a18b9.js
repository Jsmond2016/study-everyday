import{_ as s,o as a,c as n,V as l}from"./chunks/framework.e0e258e1.js";const o="/study-everyday/assets/terminal.e954733f.jpg",d=JSON.parse('{"title":"windows terminal 美化教程","description":"","frontmatter":{},"headers":[],"relativePath":"read-notes/windows-terminal.md","filePath":"read-notes/windows-terminal.md"}'),e={name:"read-notes/windows-terminal.md"},p=l('<h1 id="windows-terminal-美化教程" tabindex="-1">windows terminal 美化教程 <a class="header-anchor" href="#windows-terminal-美化教程" aria-label="Permalink to &quot;windows terminal 美化教程&quot;">​</a></h1><p>效果：</p><p><img src="'+o+`" alt=""></p><p>环境和前提：</p><ul><li>windows 系统版本要求：</li><li>应用商店安装 windows terminal</li><li>应用商店安装 powershell</li></ul><h2 id="安装字体-nerdfonts" tabindex="-1">安装字体 NerdFonts <a class="header-anchor" href="#安装字体-nerdfonts" aria-label="Permalink to &quot;安装字体 NerdFonts&quot;">​</a></h2><ul><li><a href="https://www.nerdfonts.com/font-downloads" target="_blank" rel="noreferrer">nerd-fonts 官网字体下载</a></li><li><a href="https://github.com/ryanoasis/nerd-fonts" target="_blank" rel="noreferrer">github/nerd-fonts</a></li></ul><p>在 <a href="https://github.com/ryanoasis/nerd-fonts/releases" target="_blank" rel="noreferrer">Release</a> 中搜索下载 <a href="https://github.com/ryanoasis/nerd-fonts/releases/download/v2.1.0/Hack.zip" target="_blank" rel="noreferrer">hack.zip</a></p><p>下载后安装：<code>Hack Bold Italic Nerd Font Complete Mono Windows Compatible</code></p><h2 id="配置-windows-terminal" tabindex="-1">配置 windows terminal <a class="header-anchor" href="#配置-windows-terminal" aria-label="Permalink to &quot;配置 windows terminal&quot;">​</a></h2><blockquote><p>设置-显示</p></blockquote><ul><li>字体： <ul><li>颜色主题：One Half Dark</li><li>字体：Hack NF</li></ul></li><li>亚克力效果：开启</li><li>透明度：50%；</li></ul><p>更多 windows terminal 美化方法，参考:</p><ul><li><a href="https://docs.microsoft.com/en-us/windows/terminal/customize-settings/color-schemes" target="_blank" rel="noreferrer">Color schemes in Windows Terminal</a></li><li><a href="https://windowsterminalthemes.dev/" target="_blank" rel="noreferrer">windowsterminalthemes</a> copy 字体配色后拷贝至 <code>配置json文件</code> 中即可；</li><li><a href="https://zimmergren.net/install-custom-themes-in-windows-terminal/" target="_blank" rel="noreferrer">Install custom themes in Windows Terminal</a></li></ul><h2 id="安装-powershell" tabindex="-1">安装 powershell <a class="header-anchor" href="#安装-powershell" aria-label="Permalink to &quot;安装 powershell&quot;">​</a></h2><p>打开应用商店，安装 powershell</p><p>下载完成后，在 windows terminal 中配置默认的 命令行为 powershell</p><h2 id="安装-scoop" tabindex="-1">安装 Scoop <a class="header-anchor" href="#安装-scoop" aria-label="Permalink to &quot;安装 Scoop&quot;">​</a></h2><ul><li><a href="https://scoop.sh/" target="_blank" rel="noreferrer">scoop.sh</a></li><li><a href="https://github.com/ScoopInstaller/Scoop" target="_blank" rel="noreferrer">github/Scoop</a></li><li>安装命令：</li></ul><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">iwr</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-useb</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">get.scoop.sh</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">iex</span></span></code></pre></div><p>若此命令报错，参考解决方式：</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">Set-ExecutionPolicy</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">RemoteSigned</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-scope</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">CurrentUser</span></span></code></pre></div><p>成功后，可以使用 scoop 安装自己想要的工具：</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">scoop</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">install</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">sudo</span></span>
<span class="line"><span style="color:#FFCB6B;">scoop</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">install</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">curl</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">scoop</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">install</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">nvm</span></span>
<span class="line"><span style="color:#FFCB6B;">scoop</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">install</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">nvim</span></span>
<span class="line"><span style="color:#FFCB6B;">scoop</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">install</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">yarn</span></span></code></pre></div><h2 id="安装-git" tabindex="-1">安装 git <a class="header-anchor" href="#安装-git" aria-label="Permalink to &quot;安装 git&quot;">​</a></h2><ul><li><a href="https://gitforwindows.org/" target="_blank" rel="noreferrer">git for windows</a></li><li>命令：</li></ul><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">winget</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">install</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-e</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--id</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">Git.Git</span></span></code></pre></div><h2 id="使用-scoop-安装-neovim、gcc" tabindex="-1">使用 scoop 安装 neovim、gcc <a class="header-anchor" href="#使用-scoop-安装-neovim、gcc" aria-label="Permalink to &quot;使用 scoop 安装 neovim、gcc&quot;">​</a></h2><p>执行命令：</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">scoop</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">install</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">neovim</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">gcc</span></span></code></pre></div><h2 id="创建-配置-powershell-配置文件" tabindex="-1">创建/配置 powershell 配置文件 <a class="header-anchor" href="#创建-配置-powershell-配置文件" aria-label="Permalink to &quot;创建/配置 powershell 配置文件&quot;">​</a></h2><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#82AAFF;">cd</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">~/</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">mkdir</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">.config/powershell</span></span>
<span class="line"></span>
<span class="line"><span style="color:#82AAFF;">cd</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">.config/powershell</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 使用 neovim 打开</span></span>
<span class="line"><span style="color:#FFCB6B;">nvim</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">user_profile.ps1</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 或者也可以使用 vs code 打开</span></span>
<span class="line"><span style="color:#FFCB6B;">code</span><span style="color:#A6ACCD;"> $PROFILE</span></span></code></pre></div><blockquote><p>关于 <code>$PROFILE</code> 可参考： <a href="https://docs.microsoft.com/en-us/powershell/module/microsoft.powershell.core/about/about_profiles?view=powershell-7.2" target="_blank" rel="noreferrer">$PROFILE</a></p></blockquote><p>配置相关命令，类似 Linux 中的 <code>.bashrc</code> 文件：</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;"># Alias</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">Set-Alias</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-Name</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">vim</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-Value</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">nvim</span></span>
<span class="line"><span style="color:#FFCB6B;">Set-Alias</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">touch</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ni</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># windows 默认支持 start 命令</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># Set-Alias open explorer.exe</span></span>
<span class="line"><span style="color:#FFCB6B;">Set-Alias</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">c</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">cls</span></span>
<span class="line"><span style="color:#FFCB6B;">Set-Alias</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">vi</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">nvim</span></span>
<span class="line"><span style="color:#FFCB6B;">Set-Alias</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ll</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ls</span></span>
<span class="line"><span style="color:#FFCB6B;">Set-Alias</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">g</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">git</span></span>
<span class="line"><span style="color:#FFCB6B;">Set-Alias</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">grep</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">findstr</span></span>
<span class="line"><span style="color:#FFCB6B;">Set-Alias</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">tig</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">C:\\Program Files\\Git\\usr\\bin\\tig.exe</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#FFCB6B;">Set-Alias</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">less</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">C:Program Files\\Git\\usr\\bin\\less.exe</span><span style="color:#89DDFF;">&#39;</span></span></code></pre></div><p>配置完成以上命令后，新开一个 powershell 内核的 terminal，测试 <code>ll</code> 等 <code>alias</code> 命令已经生效；</p><h2 id="oh-my-posh-posh-git" tabindex="-1">Oh-My-Posh &amp; posh-git <a class="header-anchor" href="#oh-my-posh-posh-git" aria-label="Permalink to &quot;Oh-My-Posh &amp; posh-git&quot;">​</a></h2><h3 id="oh-my-posh" tabindex="-1">Oh-My-Posh <a class="header-anchor" href="#oh-my-posh" aria-label="Permalink to &quot;Oh-My-Posh&quot;">​</a></h3><ul><li><a href="https://ohmyposh.dev/docs/" target="_blank" rel="noreferrer">Oh-My-Posh</a></li><li><a href="https://ohmyposh.dev/docs/windows" target="_blank" rel="noreferrer">安装命令</a></li></ul><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;"># powershell 安装依赖的方式 Install-Module，也可使用 Scoop 安装</span></span>
<span class="line"><span style="color:#FFCB6B;">Install-Module</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">oh-my-posh</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-Scope</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">CurrentUser</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-Force</span></span></code></pre></div><h3 id="posh-git" tabindex="-1">posh-git <a class="header-anchor" href="#posh-git" aria-label="Permalink to &quot;posh-git&quot;">​</a></h3><ul><li><a href="https://github.com/dahlbyk/posh-git#installation" target="_blank" rel="noreferrer">posh-git</a></li><li>安装命令：</li></ul><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">Install-Module</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">posh-git</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-Scope</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">CurrentUser</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-Force</span></span></code></pre></div><p>安装完成以后，在 <code>alias</code> 中配置一下，执行以下命令打开配置文件：</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">code</span><span style="color:#A6ACCD;"> $PROFILE</span></span></code></pre></div><p>新增如下：</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;"># Prompt</span></span>
<span class="line"><span style="color:#FFCB6B;">Import-Module</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">posh-git</span></span>
<span class="line"><span style="color:#FFCB6B;">Import-Module</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">oh-my-posh</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 主题可以自选，选配参考：https://ohmyposh.dev/docs/themes，主题任选</span></span>
<span class="line"><span style="color:#FFCB6B;">Set-PoshPrompt</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">takuya</span></span></code></pre></div><p>新开一个 powershell 内核的 terminal，可以看到 命令行已经有了对应的样式；</p><h3 id="自定义-oh-my-posh-主题" tabindex="-1">自定义 oh-my-posh 主题 <a class="header-anchor" href="#自定义-oh-my-posh-主题" aria-label="Permalink to &quot;自定义 oh-my-posh 主题&quot;">​</a></h3><p>接下来，<a href="https://ohmyposh.dev/docs/customize" target="_blank" rel="noreferrer">配置 oh-my-posh</a> 的主题样式：</p><blockquote><p>可以参考这个作者的样式：<a href="https://github.com/craftzdog/dotfiles-public/blob/master/.config/powershell/takuya.omp.json" target="_blank" rel="noreferrer">craftzdog/dotfiles-public</a></p></blockquote><p>当然，也可以选择默认的主题自带的样式；这里我配置的默认的主题：<code>takuya</code></p><p>若新增配置样式，配置完成执行如下命令重置主题配置，用你定义的文件名 替换掉 <code>yourconfig</code> 文件名：</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">oh-my-posh</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">prompt</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">init</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">pwsh</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--config</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">~/.yourconfig.omp.json</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Invoke-Expression</span></span></code></pre></div><p>同样，配置完成主题后，可以在 <code>$PROFILE</code> 配置默认主题路径：</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;"># 以下命令仅供参考</span></span>
<span class="line"><span style="color:#A6ACCD;">$omp_config = Join-Path $Home </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Documents\\PowerShell\\takuya.omp.json</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">$omp_config = </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">C:</span><span style="color:#A6ACCD;">\\\\</span><span style="color:#C3E88D;">Users</span><span style="color:#A6ACCD;">\\\\</span><span style="color:#C3E88D;">dell</span><span style="color:#A6ACCD;">\\\\</span><span style="color:#C3E88D;">Documents</span><span style="color:#A6ACCD;">\\\\</span><span style="color:#C3E88D;">PowerShell</span><span style="color:#A6ACCD;">\\\\</span><span style="color:#C3E88D;">takuya.omp.json</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#FFCB6B;">oh-my-posh</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--init</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--shell</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">pwsh</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--config</span><span style="color:#A6ACCD;"> $omp_config </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Invoke-Expression</span></span></code></pre></div><h2 id="terminal-icons" tabindex="-1">Terminal Icons <a class="header-anchor" href="#terminal-icons" aria-label="Permalink to &quot;Terminal Icons&quot;">​</a></h2><ul><li><a href="https://github.com/devblackops/Terminal-Icons" target="_blank" rel="noreferrer">Terminal-Icons</a></li><li>安装命令：</li></ul><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">Install-Module</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-Name</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">Terminal-Icons</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-Repository</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">PSGallery</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-Force</span></span></code></pre></div><p>此时，执行 <code>ll</code> 命令，可以看到列表文件夹内各个文件类型有了图标；</p><p>配置 <code>$PROFILE</code> ，新增 关于 Terminal Icons 配置：</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">Import-Module</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-Name</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">Terminal-Icons</span></span></code></pre></div><h2 id="z" tabindex="-1">z <a class="header-anchor" href="#z" aria-label="Permalink to &quot;z&quot;">​</a></h2><ul><li><a href="https://github.com/rupa/z/" target="_blank" rel="noreferrer">github/z</a> 主要用于文件夹快速跳转</li><li>安装 z：</li></ul><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">Install-Module</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-Name</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">z</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-Force</span></span></code></pre></div><p>安装完成后，执行 命令验证是否生效；</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">z</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">desktop</span></span></code></pre></div><h2 id="psreadline" tabindex="-1">PSReadLine <a class="header-anchor" href="#psreadline" aria-label="Permalink to &quot;PSReadLine&quot;">​</a></h2><ul><li><a href="https://github.com/PowerShell/PSReadLine" target="_blank" rel="noreferrer">github/PSReadLine</a> 主要用于记忆命令历史、展示命令列表等，参考 readme</li><li>安装：</li></ul><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;"># 前置安装</span></span>
<span class="line"><span style="color:#FFCB6B;">Install-Module</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-Name</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">PowerShellGet</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-Force</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># github 文档</span></span>
<span class="line"><span style="color:#FFCB6B;">Install-Module</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">PSReadLine</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-AllowPrerelease</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-Force</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 视频作者的命令</span></span>
<span class="line"><span style="color:#FFCB6B;">Install-Module</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-Name</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">PSReadLine</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-AllowPrerelease</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-Scope</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">CurrentUser</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-Force</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-SkipPublishercheck</span></span></code></pre></div><p>配置 <code>$PROFILE</code> ，新增 关于 PSReadline 配置：</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;"># PSReadLine</span></span>
<span class="line"><span style="color:#FFCB6B;">Set-PSReadLineOption</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-EditMode</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">Emacs</span></span>
<span class="line"><span style="color:#FFCB6B;">Set-PSReadLineOption</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-BellStyle</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">None</span></span>
<span class="line"><span style="color:#FFCB6B;">Set-PSReadLineKeyHandler</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-Chord</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Ctrl+d</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-Function</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">DeleteChar</span></span>
<span class="line"><span style="color:#FFCB6B;">Set-PSReadLineOption</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-PredictionSource</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">History</span></span></code></pre></div><p>配置完成后，命令行输入：<code>cd </code> 命令，应该会有提示 历史输入过的命令</p><p>还有更多配置，后续可以查阅 PSReadLine 文档看看；</p><h2 id="fzf-psfzf" tabindex="-1">Fzf，PSFzf <a class="header-anchor" href="#fzf-psfzf" aria-label="Permalink to &quot;Fzf，PSFzf&quot;">​</a></h2><ul><li>使用 <code>scoop</code> 安装 fzf</li></ul><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">scoop</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">install</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">fzf</span></span></code></pre></div><ul><li>安装 PSFzf</li></ul><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">Install-Module</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-Name</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">PSFzf</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-Scope</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">CurrentUser</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-Force</span></span></code></pre></div><p>配置 <code>$PROFILE</code> 命令，在 命令行中使用 fzf 查找文件：</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;"># Fzf</span></span>
<span class="line"><span style="color:#FFCB6B;">Import-Module</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">PSFzf</span></span>
<span class="line"><span style="color:#FFCB6B;">Set-PsFzfOption</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-PSReadlineChordProvider</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Ctrl+f</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-PSReadlineChordReverseHistory</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Ctrl+r</span><span style="color:#89DDFF;">&#39;</span></span></code></pre></div><h2 id="配置文件综合" tabindex="-1">配置文件综合 <a class="header-anchor" href="#配置文件综合" aria-label="Permalink to &quot;配置文件综合&quot;">​</a></h2><p>初步汇总为：</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;"># set PowerShell to UTF-8</span></span>
<span class="line"><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;">::InputEncoding = </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;">::OutputEncoding = New-Object System.Text.UTF8Encoding</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">Import-Module</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">posh-git</span></span>
<span class="line"><span style="color:#FFCB6B;">Import-Module</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">oh-my-posh</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 以下配置没有生效，为什么？</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># $omp_config = Join-Path $Home &quot;Documents\\PowerShell\\takuya.omp.json&quot;</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># $omp_config = &quot;C:\\\\Users\\\\dell\\\\Documents\\\\PowerShell\\\\takuya.omp.json&quot;</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># oh-my-posh --init --shell pwsh --config $omp_config | Invoke-Expression</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">Import-Module</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-Name</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">Terminal-Icons</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># PSReadLine</span></span>
<span class="line"><span style="color:#FFCB6B;">Set-PSReadLineOption</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-EditMode</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">Emacs</span></span>
<span class="line"><span style="color:#FFCB6B;">Set-PSReadLineOption</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-BellStyle</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">None</span></span>
<span class="line"><span style="color:#FFCB6B;">Set-PSReadLineKeyHandler</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-Chord</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Ctrl+d</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-Function</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">DeleteChar</span></span>
<span class="line"><span style="color:#FFCB6B;">Set-PSReadLineOption</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-PredictionSource</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">History</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># Fzf</span></span>
<span class="line"><span style="color:#FFCB6B;">Import-Module</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">PSFzf</span></span>
<span class="line"><span style="color:#FFCB6B;">Set-PsFzfOption</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-PSReadlineChordProvider</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Ctrl+f</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-PSReadlineChordReverseHistory</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Ctrl+r</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># Env</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># $env:GIT_SSH = &quot;C:\\Windows\\system32\\OpenSSH\\ssh.exe&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># Alias</span></span>
<span class="line"><span style="color:#FFCB6B;">Import-Module</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">posh-git</span></span>
<span class="line"><span style="color:#FFCB6B;">Import-Module</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">oh-my-posh</span></span>
<span class="line"><span style="color:#FFCB6B;">Set-PoshPrompt</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">takuya</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># Set-PoshPrompt Parado</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">Set-Alias</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-Name</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">vim</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-Value</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">nvim</span></span>
<span class="line"><span style="color:#FFCB6B;">Set-Alias</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">j</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">z</span></span>
<span class="line"><span style="color:#FFCB6B;">Set-Alias</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">touch</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ni</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># windows 默认支持 start 命令</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># Set-Alias open explorer.exe</span></span>
<span class="line"><span style="color:#FFCB6B;">Set-Alias</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">c</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">cls</span></span>
<span class="line"><span style="color:#FFCB6B;">Set-Alias</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">vi</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">nvim</span></span>
<span class="line"><span style="color:#FFCB6B;">Set-Alias</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ll</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ls</span></span>
<span class="line"><span style="color:#FFCB6B;">Set-Alias</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">g</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">git</span></span>
<span class="line"><span style="color:#FFCB6B;">Set-Alias</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">grep</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">findstr</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># Set-Alias tig &#39;C:\\Program Files\\Git\\usr\\bin\\tig.exe&#39;</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># Set-Alias less &#39;C:Program Files\\Git\\usr\\bin\\less.exe&#39;</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># Utilities</span></span>
<span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">which</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">$command</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#FFCB6B;">Get-Command</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-Name</span><span style="color:#A6ACCD;"> $command </span><span style="color:#C3E88D;">-ErrorAction</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">SilentlyContinue</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">|</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">Select-Object</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-ExpandProperty</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">Path</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-ErrorAction</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">SilentlyContinue</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre></div><p>更多内容，参考作者的配置文件：<a href="https://github.com/craftzdog/dotfiles-public/tree/master/.config/powershell" target="_blank" rel="noreferrer">craftzdog/dotfiles-public</a></p><h2 id="相关资料" tabindex="-1">相关资料： <a class="header-anchor" href="#相关资料" aria-label="Permalink to &quot;相关资料：&quot;">​</a></h2><ul><li>视频：<a href="https://www.youtube.com/watch?v=5-aK2_WwrmM" target="_blank" rel="noreferrer">How to set up PowerShell prompt with Oh My Posh on Windows 11</a></li><li>微软相关文档： <ul><li><a href="https://docs.microsoft.com/en-us/windows/terminal/tutorials/custom-prompt-setup" target="_blank" rel="noreferrer">custom-prompt-setup</a></li><li><a href="https://docs.microsoft.com/en-us/powershell/module/microsoft.powershell.core/about/about_profiles?view=powershell-7.2" target="_blank" rel="noreferrer">about_profiles</a></li></ul></li></ul>`,87),t=[p];function r(c,i,C,y,D,h){return a(),n("div",null,t)}const u=s(e,[["render",r]]);export{d as __pageData,u as default};
