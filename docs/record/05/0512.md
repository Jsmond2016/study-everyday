# 0512

## 工作

- 水印需求优化：前端组长帮助优化了代码，实现了理想效果。自己需要花时间看看那个自己不懂的地方，做好笔记总结！
- 新的问题：修改了 `input type="file" accept="image/*"` 里面的东西为 `accept="image/jpg, image/jpeg, image/png"` ，结果导致手机端点开上传不能选择相机，原先效果是可以选择【相机】和【图片文件夹】，现在只有后者。一开始以为不是自己的代码导致，结果自己测试后傻眼了。[测试-手机端点开](https://jsbin.com/pigobupilo/10/edit?output) 这里就可以看得很明显
- 这个问题网上有前人踩过这个坑，但是解决方法加 `capture="camera"` 效果无效；而这次的需求是限制图片类型，那在 `onchange` 事件中做限制也是可行的，巧妙的绕过，避免处理不同机型和微信内置浏览器等兼容这个问题。
- 新的问题2：解决了水印，解决了点击上传唤醒相机，新的问题又来了：上传文件太大，本地加水印和上传时间特别长，移动端考虑需要在上传前对图片进行压缩。因为当前的手机相机越来越好，像素也越来越大，导致图片的体积也越来越大，而我们产品限制只能传 5M 以下的图片，通常用户拍照的图片都大于这个大小，因此可能需要压缩。but，问了产品，这次不做。不过后面需要做个调研，关于 前端图片压缩。

## 学习

- 优秀文章
- 算法

## 反思

- 做的不好的

## TODOS

- 图片问题整理总结：水印，相机唤醒，图片压缩等
- 图片压缩资料整理

