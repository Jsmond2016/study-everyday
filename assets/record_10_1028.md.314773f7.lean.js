import{_ as n,c as a,o as s,b as t,d as o}from"./app.e89b6480.js";const e='{"title":"1028","description":"","frontmatter":{},"headers":[{"level":2,"title":"工作","slug":"工作"},{"level":2,"title":"好文推荐","slug":"好文推荐"}],"relativePath":"record/10/1028.md","lastUpdated":1636775090522}',p={},c=[t("h1",{id:"_1028",tabindex:"-1"},[o("1028 "),t("a",{class:"header-anchor",href:"#_1028","aria-hidden":"true"},"#")],-1),t("p",null,[t("img",{src:"/study-everyday/assets/1028.241ae83f.jpg",alt:""})],-1),t("h2",{id:"工作",tabindex:"-1"},[o("工作 "),t("a",{class:"header-anchor",href:"#工作","aria-hidden":"true"},"#")],-1),t("ul",null,[t("li",null,"问题：打印 pdf 时第二页没有水印")],-1),t("p",null,[o("本地测试打印的时候，第二页是ok 的，服务端的 electron 环境是 2.x 版本的，打印的结果中第二页没有水印，使用的库是 "),t("a",{href:"https://github.com/loadchange/gwm",target:"_blank",rel:"noopener noreferrer"},"gwm/github")],-1),t("p",null,"代码大致为：",-1),t("div",{class:"language-js"},[t("pre",null,[t("code",null,[t("span",{class:"token comment"},"// 先插入水印"),o("\ngwm"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"creation"),t("span",{class:"token punctuation"},"("),t("span",{class:"token punctuation"},"{"),o(" txt"),t("span",{class:"token operator"},":"),o(),t("span",{class:"token string"},"'水印'"),o(),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},")"),o(),t("span",{class:"token comment"},"// 默认挂载在 body 上"),o("\n"),t("span",{class:"token comment"},"// 再插入 dom"),o("\ndocument"),t("span",{class:"token punctuation"},"."),o("body"),t("span",{class:"token punctuation"},"."),o("innerHTML "),t("span",{class:"token operator"},"="),o(" dom\n")])])],-1),t("p",null,"这种情况观察页面发现，滚动页面的时候，水印是不滚动的，水印只覆盖了当前屏幕内的元素",-1),t("p",null,"尝试修改为",-1),t("div",{class:"language-html"},[t("pre",null,[t("code",null,[t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"<"),o("body")]),t("span",{class:"token punctuation"},">")]),o("\n  "),t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"<"),o("div")]),o(),t("span",{class:"token attr-name"},"id"),t("span",{class:"token attr-value"},[t("span",{class:"token punctuation attr-equals"},"="),t("span",{class:"token punctuation"},'"'),o("container"),t("span",{class:"token punctuation"},'"')]),t("span",{class:"token punctuation"},">")]),t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"</"),o("div")]),t("span",{class:"token punctuation"},">")]),o("\n"),t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"</"),o("body")]),t("span",{class:"token punctuation"},">")]),o("\n\n"),t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"<"),o("script")]),t("span",{class:"token punctuation"},">")]),t("span",{class:"token script"},[t("span",{class:"token language-javascript"},[o("\n"),t("span",{class:"token comment"},"// 先插入水印"),o("\ngwm"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"creation"),t("span",{class:"token punctuation"},"("),t("span",{class:"token punctuation"},"{"),o(" txt"),t("span",{class:"token operator"},":"),o(),t("span",{class:"token string"},"'水印'"),t("span",{class:"token punctuation"},","),o(" container"),t("span",{class:"token operator"},":"),o(),t("span",{class:"token string"},"'#container'"),o(),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},")"),o(),t("span",{class:"token comment"},"// 默认挂载在 body 上"),o("\n"),t("span",{class:"token comment"},"// 再插入 dom"),o("\n"),t("span",{class:"token keyword"},"const"),o(" container "),t("span",{class:"token operator"},"="),o(" document"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"querySelector"),t("span",{class:"token punctuation"},"("),t("span",{class:"token string"},"'#container'"),t("span",{class:"token punctuation"},")"),o("\ncontainer"),t("span",{class:"token punctuation"},"."),o("innerHTML "),t("span",{class:"token operator"},"="),o(" dom\n")])]),t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"</"),o("script")]),t("span",{class:"token punctuation"},">")]),o("\n")])])],-1),t("p",null,"代码这么写，水印可以跟随着 页面一起滚动，覆盖了所有页面，打印的时候第二页也有水印；",-1),t("p",null,"原因：",-1),t("p",null,[o("默认情况是在 "),t("code",null,"body"),o(" 里面新增 一个 固定在页面顶层的 "),t("code",null,"div"),o("，这个 "),t("code",null,"div"),o(" 使用绝对定位的宽高，使用了 "),t("code",null,"inset: 0px !important;"),o(" 默认宽高就是占满当前屏幕大小；")],-1),t("p",null,[o("可以看到使用 如下 3 行代码 "),t("a",{href:"https://jsbin.com/cawujinali/1/edit?html,css,output",target:"_blank",rel:"noopener noreferrer"},"效果"),o(" ：")],-1),t("div",{class:"language-html"},[t("pre",null,[t("code",null,[t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"<"),o("style")]),t("span",{class:"token punctuation"},">")]),t("span",{class:"token style"},[t("span",{class:"token language-css"},[o("\n  "),t("span",{class:"token selector"},"div"),o(),t("span",{class:"token punctuation"},"{"),o("\n    "),t("span",{class:"token property"},"position"),t("span",{class:"token punctuation"},":"),o(" fixed"),t("span",{class:"token punctuation"},";"),o("\n    "),t("span",{class:"token property"},"background"),t("span",{class:"token punctuation"},":"),o(" blue"),t("span",{class:"token punctuation"},";"),o("\n    "),t("span",{class:"token property"},"inset"),t("span",{class:"token punctuation"},":"),o(" 0px "),t("span",{class:"token important"},"!important"),t("span",{class:"token punctuation"},";"),o("\n  "),t("span",{class:"token punctuation"},"}"),o("\n")])]),t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"</"),o("style")]),t("span",{class:"token punctuation"},">")]),o("\n"),t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"<"),o("body")]),t("span",{class:"token punctuation"},">")]),o("\n"),t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"<"),o("div")]),o(),t("span",{class:"token punctuation"},">")]),t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"</"),o("div")]),t("span",{class:"token punctuation"},">")]),o("\n"),t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"</"),o("body")]),t("span",{class:"token punctuation"},">")]),o("\n")])])],-1),t("p",null,[o("查看这个页面的 "),t("a",{href:"https://loadchange.github.io/gwm/",target:"_blank",rel:"noopener noreferrer"},"例子"),o("，可以看到第一个 "),t("code",null,"div"),o(" 元素的样式即是水印样式，手动编辑网页加入很多的 "),t("code",null,"<br>"),o(" 让内容高于屏幕高度，发现水印的高度不变，但是 body 内的高度变了，"),t("strong",null,"这就是为什么，第二页的内容没有显示出水印了，因为水印高度没有被内容撑开"),o("；")],-1),t("p",null,"水印的样式如下：",-1),t("div",{class:"language-css"},[t("pre",null,[t("code",null,[t("span",{class:"token selector"},"element.style"),o(),t("span",{class:"token punctuation"},"{"),o("\n  "),t("span",{class:"token property"},"pointer-events"),t("span",{class:"token punctuation"},":"),o(" none"),t("span",{class:"token punctuation"},";"),o("\n  "),t("span",{class:"token property"},"z-index"),t("span",{class:"token punctuation"},":"),o(" 999999"),t("span",{class:"token punctuation"},";"),o("\n  "),t("span",{class:"token property"},"animation"),t("span",{class:"token punctuation"},":"),o(" 0s ease 0s 1 normal none running undefined "),t("span",{class:"token important"},"!important"),t("span",{class:"token punctuation"},";"),o("\n  "),t("span",{class:"token property"},"inset"),t("span",{class:"token punctuation"},":"),o(" 0px "),t("span",{class:"token important"},"!important"),t("span",{class:"token punctuation"},";"),o("\n  "),t("span",{class:"token property"},"display"),t("span",{class:"token punctuation"},":"),o(" block "),t("span",{class:"token important"},"!important"),t("span",{class:"token punctuation"},";"),o("\n  "),t("span",{class:"token property"},"opacity"),t("span",{class:"token punctuation"},":"),o(" 1 "),t("span",{class:"token important"},"!important"),t("span",{class:"token punctuation"},";"),o("\n  "),t("span",{class:"token property"},"overflow"),t("span",{class:"token punctuation"},":"),o(" hidden "),t("span",{class:"token important"},"!important"),t("span",{class:"token punctuation"},";"),o("\n  "),t("span",{class:"token property"},"page"),t("span",{class:"token punctuation"},":"),o(" undefined "),t("span",{class:"token important"},"!important"),t("span",{class:"token punctuation"},";"),o("\n  "),t("span",{class:"token property"},"position"),t("span",{class:"token punctuation"},":"),o(" fixed "),t("span",{class:"token important"},"!important"),t("span",{class:"token punctuation"},";"),o("\n  "),t("span",{class:"token property"},"transition"),t("span",{class:"token punctuation"},":"),o(" undefined 0s ease 0s "),t("span",{class:"token important"},"!important"),t("span",{class:"token punctuation"},";"),o("\n  "),t("span",{class:"token property"},"background"),t("span",{class:"token punctuation"},":"),o(),t("span",{class:"token url"},[t("span",{class:"token function"},"url"),t("span",{class:"token punctuation"},"("),o("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNThweCIgaGVpZ2h0PSIxMDBweCI+CiAgICAgICAgICAgICAgICA8dGV4dCB4PSIwcHgiIHk9IjUwcHgiIGR5PSIxMnB4IgogICAgICAgICAgICAgICAgICAgIHRleHQtYW5jaG9yPSJzdGFydCIKICAgICAgICAgICAgICAgICAgICBzdHJva2U9IiM4YTJiZTIiCiAgICAgICAgICAgICAgICAgICAgc3Ryb2tlLW9wYWNpdHk9IjAuMiIKICAgICAgICAgICAgICAgICAgICBmaWxsPSJub25lIgogICAgICAgICAgICAgICAgICAgIHRyYW5zZm9ybT0icm90YXRlKC0xNSwwIDUwKSIKICAgICAgICAgICAgICAgICAgICBmb250LXdlaWdodD0iMTAwIgogICAgICAgICAgICAgICAgICAgIGZvbnQtc2l6ZT0iMTIiCiAgICAgICAgICAgICAgICAgICAgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiCiAgICAgICAgICAgICAgICAgICAgPgogICAgICAgICAgICAgICAgICAgIDIwMjEvMTAvMjggVG9wIHNlY3JldAogICAgICAgICAgICAgICAgPC90ZXh0PgogICAgICAgICAgICA8L3N2Zz4="),t("span",{class:"token punctuation"},")")]),t("span",{class:"token punctuation"},";"),o("\n"),t("span",{class:"token punctuation"},"}"),o("\n")])])],-1),t("h2",{id:"好文推荐",tabindex:"-1"},[o("好文推荐 "),t("a",{class:"header-anchor",href:"#好文推荐","aria-hidden":"true"},"#")],-1),t("ul",null,[t("li",null,[t("a",{href:"https://juejin.cn/post/7023208826472005668",target:"_blank",rel:"noopener noreferrer"},"JavaScript算法基础及面试总结（1w1字）"),o(" 作者做了各个专题的分类，整理的很有序")]),t("li",null,[t("a",{href:"https://juejin.cn/post/6971370594117877796",target:"_blank",rel:"noopener noreferrer"},"手把手教你搭建一个无框架埋点体系")]),t("li",null,[t("a",{href:"https://juejin.cn/post/6872398266642726926",target:"_blank",rel:"noopener noreferrer"},"项目实战-埋点系统初探")])],-1)];var l=n(p,[["render",function(n,t,o,e,p,l){return s(),a("div",null,c)}]]);export{e as __pageData,l as default};
