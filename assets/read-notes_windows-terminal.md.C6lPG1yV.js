import{_ as s,c as i,o as a,a3 as n}from"./chunks/framework.B1tUqxYT.js";const l="/study-everyday/assets/terminal.B1SDiqpV.jpg",y=JSON.parse('{"title":"windows terminal 美化教程","description":"","frontmatter":{},"headers":[],"relativePath":"read-notes/windows-terminal.md","filePath":"read-notes/windows-terminal.md"}'),e={name:"read-notes/windows-terminal.md"},t=n('<h1 id="windows-terminal-美化教程" tabindex="-1">windows terminal 美化教程 <a class="header-anchor" href="#windows-terminal-美化教程" aria-label="Permalink to &quot;windows terminal 美化教程&quot;">​</a></h1><p>效果：</p><p><img src="'+l+`" alt=""></p><p>环境和前提：</p><ul><li>windows 系统版本要求：</li><li>应用商店安装 windows terminal</li><li>应用商店安装 powershell</li></ul><h2 id="安装字体-nerdfonts" tabindex="-1">安装字体 NerdFonts <a class="header-anchor" href="#安装字体-nerdfonts" aria-label="Permalink to &quot;安装字体 NerdFonts&quot;">​</a></h2><ul><li><a href="https://www.nerdfonts.com/font-downloads" target="_blank" rel="noreferrer">nerd-fonts 官网字体下载</a></li><li><a href="https://github.com/ryanoasis/nerd-fonts" target="_blank" rel="noreferrer">github/nerd-fonts</a></li></ul><p>在 <a href="https://github.com/ryanoasis/nerd-fonts/releases" target="_blank" rel="noreferrer">Release</a> 中搜索下载 <a href="https://github.com/ryanoasis/nerd-fonts/releases/download/v2.1.0/Hack.zip" target="_blank" rel="noreferrer">hack.zip</a></p><p>下载后安装：<code>Hack Bold Italic Nerd Font Complete Mono Windows Compatible</code></p><h2 id="配置-windows-terminal" tabindex="-1">配置 windows terminal <a class="header-anchor" href="#配置-windows-terminal" aria-label="Permalink to &quot;配置 windows terminal&quot;">​</a></h2><blockquote><p>设置-显示</p></blockquote><ul><li>字体： <ul><li>颜色主题：One Half Dark</li><li>字体：Hack NF</li></ul></li><li>亚克力效果：开启</li><li>透明度：50%；</li></ul><p>更多 windows terminal 美化方法，参考:</p><ul><li><a href="https://docs.microsoft.com/en-us/windows/terminal/customize-settings/color-schemes" target="_blank" rel="noreferrer">Color schemes in Windows Terminal</a></li><li><a href="https://windowsterminalthemes.dev/" target="_blank" rel="noreferrer">windowsterminalthemes</a> copy 字体配色后拷贝至 <code>配置json文件</code> 中即可；</li><li><a href="https://zimmergren.net/install-custom-themes-in-windows-terminal/" target="_blank" rel="noreferrer">Install custom themes in Windows Terminal</a></li></ul><h2 id="安装-powershell" tabindex="-1">安装 powershell <a class="header-anchor" href="#安装-powershell" aria-label="Permalink to &quot;安装 powershell&quot;">​</a></h2><p>打开应用商店，安装 powershell</p><p>下载完成后，在 windows terminal 中配置默认的 命令行为 powershell</p><h2 id="安装-scoop" tabindex="-1">安装 Scoop <a class="header-anchor" href="#安装-scoop" aria-label="Permalink to &quot;安装 Scoop&quot;">​</a></h2><ul><li><a href="https://scoop.sh/" target="_blank" rel="noreferrer">scoop.sh</a></li><li><a href="https://github.com/ScoopInstaller/Scoop" target="_blank" rel="noreferrer">github/Scoop</a></li><li>安装命令：</li></ul><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">iwr</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -useb</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> get.scoop.sh</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> iex</span></span></code></pre></div><p>若此命令报错，参考解决方式：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Set-ExecutionPolicy</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> RemoteSigned</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -scope</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> CurrentUser</span></span></code></pre></div><p>成功后，可以使用 scoop 安装自己想要的工具：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">scoop</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> sudo</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">scoop</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> curl</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">scoop</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> nvm</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">scoop</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> nvim</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">scoop</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> yarn</span></span></code></pre></div><h2 id="安装-git" tabindex="-1">安装 git <a class="header-anchor" href="#安装-git" aria-label="Permalink to &quot;安装 git&quot;">​</a></h2><ul><li><a href="https://gitforwindows.org/" target="_blank" rel="noreferrer">git for windows</a></li><li>命令：</li></ul><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">winget</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -e</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --id</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Git.Git</span></span></code></pre></div><h2 id="使用-scoop-安装-neovim、gcc" tabindex="-1">使用 scoop 安装 neovim、gcc <a class="header-anchor" href="#使用-scoop-安装-neovim、gcc" aria-label="Permalink to &quot;使用 scoop 安装 neovim、gcc&quot;">​</a></h2><p>执行命令：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">scoop</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> neovim</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> gcc</span></span></code></pre></div><h2 id="创建-配置-powershell-配置文件" tabindex="-1">创建/配置 powershell 配置文件 <a class="header-anchor" href="#创建-配置-powershell-配置文件" aria-label="Permalink to &quot;创建/配置 powershell 配置文件&quot;">​</a></h2><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ~/</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mkdir</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> .config/powershell</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> .config/powershell</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 使用 neovim 打开</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">nvim</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> user_profile.ps1</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 或者也可以使用 vs code 打开</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">code</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> $PROFILE</span></span></code></pre></div><blockquote><p>关于 <code>$PROFILE</code> 可参考： <a href="https://docs.microsoft.com/en-us/powershell/module/microsoft.powershell.core/about/about_profiles?view=powershell-7.2" target="_blank" rel="noreferrer">$PROFILE</a></p></blockquote><p>配置相关命令，类似 Linux 中的 <code>.bashrc</code> 文件：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Alias</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Set-Alias</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -Name</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> vim</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -Value</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> nvim</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Set-Alias</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> touch</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ni</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># windows 默认支持 start 命令</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Set-Alias open explorer.exe</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Set-Alias</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> c</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> cls</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Set-Alias</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> vi</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> nvim</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Set-Alias</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ll</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ls</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Set-Alias</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> g</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> git</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Set-Alias</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> grep</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> findstr</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Set-Alias</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> tig</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;C:\\Program Files\\Git\\usr\\bin\\tig.exe&#39;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Set-Alias</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> less</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;C:Program Files\\Git\\usr\\bin\\less.exe&#39;</span></span></code></pre></div><p>配置完成以上命令后，新开一个 powershell 内核的 terminal，测试 <code>ll</code> 等 <code>alias</code> 命令已经生效；</p><h2 id="oh-my-posh-posh-git" tabindex="-1">Oh-My-Posh &amp; posh-git <a class="header-anchor" href="#oh-my-posh-posh-git" aria-label="Permalink to &quot;Oh-My-Posh &amp; posh-git&quot;">​</a></h2><h3 id="oh-my-posh" tabindex="-1">Oh-My-Posh <a class="header-anchor" href="#oh-my-posh" aria-label="Permalink to &quot;Oh-My-Posh&quot;">​</a></h3><ul><li><a href="https://ohmyposh.dev/docs/" target="_blank" rel="noreferrer">Oh-My-Posh</a></li><li><a href="https://ohmyposh.dev/docs/windows" target="_blank" rel="noreferrer">安装命令</a></li></ul><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># powershell 安装依赖的方式 Install-Module，也可使用 Scoop 安装</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Install-Module</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> oh-my-posh</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -Scope</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> CurrentUser</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -Force</span></span></code></pre></div><h3 id="posh-git" tabindex="-1">posh-git <a class="header-anchor" href="#posh-git" aria-label="Permalink to &quot;posh-git&quot;">​</a></h3><ul><li><a href="https://github.com/dahlbyk/posh-git#installation" target="_blank" rel="noreferrer">posh-git</a></li><li>安装命令：</li></ul><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Install-Module</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> posh-git</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -Scope</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> CurrentUser</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -Force</span></span></code></pre></div><p>安装完成以后，在 <code>alias</code> 中配置一下，执行以下命令打开配置文件：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">code</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> $PROFILE</span></span></code></pre></div><p>新增如下：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Prompt</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Import-Module</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> posh-git</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Import-Module</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> oh-my-posh</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 主题可以自选，选配参考：https://ohmyposh.dev/docs/themes，主题任选</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Set-PoshPrompt</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> takuya</span></span></code></pre></div><p>新开一个 powershell 内核的 terminal，可以看到 命令行已经有了对应的样式；</p><h3 id="自定义-oh-my-posh-主题" tabindex="-1">自定义 oh-my-posh 主题 <a class="header-anchor" href="#自定义-oh-my-posh-主题" aria-label="Permalink to &quot;自定义 oh-my-posh 主题&quot;">​</a></h3><p>接下来，<a href="https://ohmyposh.dev/docs/customize" target="_blank" rel="noreferrer">配置 oh-my-posh</a> 的主题样式：</p><blockquote><p>可以参考这个作者的样式：<a href="https://github.com/craftzdog/dotfiles-public/blob/master/.config/powershell/takuya.omp.json" target="_blank" rel="noreferrer">craftzdog/dotfiles-public</a></p></blockquote><p>当然，也可以选择默认的主题自带的样式；这里我配置的默认的主题：<code>takuya</code></p><p>若新增配置样式，配置完成执行如下命令重置主题配置，用你定义的文件名 替换掉 <code>yourconfig</code> 文件名：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">oh-my-posh</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> prompt</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> init</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pwsh</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --config</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ~/.yourconfig.omp.json</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Invoke-Expression</span></span></code></pre></div><p>同样，配置完成主题后，可以在 <code>$PROFILE</code> 配置默认主题路径：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 以下命令仅供参考</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$omp_config = Join-Path $Home </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Documents\\PowerShell\\takuya.omp.json&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$omp_config = </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;C:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\\\</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">Users</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\\\</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">dell</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\\\</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">Documents</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\\\</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">PowerShell</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\\\</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">takuya.omp.json&quot;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">oh-my-posh</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --init</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --shell</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pwsh</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --config</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> $omp_config </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Invoke-Expression</span></span></code></pre></div><h2 id="terminal-icons" tabindex="-1">Terminal Icons <a class="header-anchor" href="#terminal-icons" aria-label="Permalink to &quot;Terminal Icons&quot;">​</a></h2><ul><li><a href="https://github.com/devblackops/Terminal-Icons" target="_blank" rel="noreferrer">Terminal-Icons</a></li><li>安装命令：</li></ul><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Install-Module</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -Name</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Terminal-Icons</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -Repository</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> PSGallery</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -Force</span></span></code></pre></div><p>此时，执行 <code>ll</code> 命令，可以看到列表文件夹内各个文件类型有了图标；</p><p>配置 <code>$PROFILE</code> ，新增 关于 Terminal Icons 配置：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Import-Module</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -Name</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Terminal-Icons</span></span></code></pre></div><h2 id="z" tabindex="-1">z <a class="header-anchor" href="#z" aria-label="Permalink to &quot;z&quot;">​</a></h2><ul><li><a href="https://github.com/rupa/z/" target="_blank" rel="noreferrer">github/z</a> 主要用于文件夹快速跳转</li><li>安装 z：</li></ul><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Install-Module</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -Name</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> z</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -Force</span></span></code></pre></div><p>安装完成后，执行 命令验证是否生效；</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">z</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> desktop</span></span></code></pre></div><h2 id="psreadline" tabindex="-1">PSReadLine <a class="header-anchor" href="#psreadline" aria-label="Permalink to &quot;PSReadLine&quot;">​</a></h2><ul><li><a href="https://github.com/PowerShell/PSReadLine" target="_blank" rel="noreferrer">github/PSReadLine</a> 主要用于记忆命令历史、展示命令列表等，参考 readme</li><li>安装：</li></ul><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 前置安装</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Install-Module</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -Name</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> PowerShellGet</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -Force</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># github 文档</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Install-Module</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> PSReadLine</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -AllowPrerelease</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -Force</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 视频作者的命令</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Install-Module</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -Name</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> PSReadLine</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -AllowPrerelease</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -Scope</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> CurrentUser</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -Force</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -SkipPublishercheck</span></span></code></pre></div><p>配置 <code>$PROFILE</code> ，新增 关于 PSReadline 配置：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># PSReadLine</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Set-PSReadLineOption</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -EditMode</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Emacs</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Set-PSReadLineOption</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -BellStyle</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> None</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Set-PSReadLineKeyHandler</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -Chord</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;Ctrl+d&#39;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -Function</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> DeleteChar</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Set-PSReadLineOption</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -PredictionSource</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> History</span></span></code></pre></div><p>配置完成后，命令行输入：<code>cd </code> 命令，应该会有提示 历史输入过的命令</p><p>还有更多配置，后续可以查阅 PSReadLine 文档看看；</p><h2 id="fzf-psfzf" tabindex="-1">Fzf，PSFzf <a class="header-anchor" href="#fzf-psfzf" aria-label="Permalink to &quot;Fzf，PSFzf&quot;">​</a></h2><ul><li>使用 <code>scoop</code> 安装 fzf</li></ul><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">scoop</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> fzf</span></span></code></pre></div><ul><li>安装 PSFzf</li></ul><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Install-Module</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -Name</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> PSFzf</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -Scope</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> CurrentUser</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -Force</span></span></code></pre></div><p>配置 <code>$PROFILE</code> 命令，在 命令行中使用 fzf 查找文件：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Fzf</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Import-Module</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> PSFzf</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Set-PsFzfOption</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -PSReadlineChordProvider</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;Ctrl+f&#39;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -PSReadlineChordReverseHistory</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;Ctrl+r&#39;</span></span></code></pre></div><h2 id="配置文件综合" tabindex="-1">配置文件综合 <a class="header-anchor" href="#配置文件综合" aria-label="Permalink to &quot;配置文件综合&quot;">​</a></h2><p>初步汇总为：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># set PowerShell to UTF-8</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[console]::InputEncoding = [console]::OutputEncoding = New-Object System.Text.UTF8Encoding</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Import-Module</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> posh-git</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Import-Module</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> oh-my-posh</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 以下配置没有生效，为什么？</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># $omp_config = Join-Path $Home &quot;Documents\\PowerShell\\takuya.omp.json&quot;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># $omp_config = &quot;C:\\\\Users\\\\dell\\\\Documents\\\\PowerShell\\\\takuya.omp.json&quot;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># oh-my-posh --init --shell pwsh --config $omp_config | Invoke-Expression</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Import-Module</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -Name</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Terminal-Icons</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># PSReadLine</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Set-PSReadLineOption</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -EditMode</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Emacs</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Set-PSReadLineOption</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -BellStyle</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> None</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Set-PSReadLineKeyHandler</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -Chord</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;Ctrl+d&#39;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -Function</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> DeleteChar</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Set-PSReadLineOption</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -PredictionSource</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> History</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Fzf</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Import-Module</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> PSFzf</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Set-PsFzfOption</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -PSReadlineChordProvider</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;Ctrl+f&#39;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -PSReadlineChordReverseHistory</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;Ctrl+r&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Env</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># $env:GIT_SSH = &quot;C:\\Windows\\system32\\OpenSSH\\ssh.exe&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Alias</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Import-Module</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> posh-git</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Import-Module</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> oh-my-posh</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Set-PoshPrompt</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> takuya</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Set-PoshPrompt Parado</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Set-Alias</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -Name</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> vim</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -Value</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> nvim</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Set-Alias</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> j</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> z</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Set-Alias</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> touch</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ni</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># windows 默认支持 start 命令</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Set-Alias open explorer.exe</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Set-Alias</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> c</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> cls</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Set-Alias</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> vi</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> nvim</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Set-Alias</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ll</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ls</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Set-Alias</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> g</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> git</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Set-Alias</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> grep</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> findstr</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Set-Alias tig &#39;C:\\Program Files\\Git\\usr\\bin\\tig.exe&#39;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Set-Alias less &#39;C:Program Files\\Git\\usr\\bin\\less.exe&#39;</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Utilities</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> which</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ($command) {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  Get-Command</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -Name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> $command </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">-ErrorAction</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> SilentlyContinue</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    Select-Object</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -ExpandProperty</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Path</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -ErrorAction</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> SilentlyContinue</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>更多内容，参考作者的配置文件：<a href="https://github.com/craftzdog/dotfiles-public/tree/master/.config/powershell" target="_blank" rel="noreferrer">craftzdog/dotfiles-public</a></p><h2 id="相关资料" tabindex="-1">相关资料： <a class="header-anchor" href="#相关资料" aria-label="Permalink to &quot;相关资料：&quot;">​</a></h2><ul><li>视频：<a href="https://www.youtube.com/watch?v=5-aK2_WwrmM" target="_blank" rel="noreferrer">How to set up PowerShell prompt with Oh My Posh on Windows 11</a></li><li>微软相关文档： <ul><li><a href="https://docs.microsoft.com/en-us/windows/terminal/tutorials/custom-prompt-setup" target="_blank" rel="noreferrer">custom-prompt-setup</a></li><li><a href="https://docs.microsoft.com/en-us/powershell/module/microsoft.powershell.core/about/about_profiles?view=powershell-7.2" target="_blank" rel="noreferrer">about_profiles</a></li></ul></li></ul>`,87),h=[t];function p(k,r,o,d,F,c){return a(),i("div",null,h)}const C=s(e,[["render",p]]);export{y as __pageData,C as default};
