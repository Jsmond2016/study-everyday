import{_ as e,o as l,c as o,V as a}from"./chunks/framework.e0e258e1.js";const m=JSON.parse('{"title":"0617","description":"","frontmatter":{},"headers":[],"relativePath":"record-2021/06/0617.md","filePath":"record-2021/06/0617.md"}'),t={name:"record-2021/06/0617.md"},i=a('<h1 id="_0617" tabindex="-1">0617 <a class="header-anchor" href="#_0617" aria-label="Permalink to &quot;0617&quot;">​</a></h1><p><img src="http://h2.ioliu.cn/bing/MountainToucan_ZH-CN9939482570_1920x1080.jpg" alt=""></p><h2 id="工作" tabindex="-1">工作 <a class="header-anchor" href="#工作" aria-label="Permalink to &quot;工作&quot;">​</a></h2><ul><li>删除后查询时分页问题： <ul><li>常见操作，列表页，删除某个数据后，点击查询。</li><li>当第二页只有1条数据时，删除这条数据，此时只有一页了。但是查询时传入的 pageIndex 是 2 而不是 1。</li><li>因此这是比较常见但是比较容易忽视的bug，发现公司后台所有的列表页基本都有这个问题。修复方法是：<code>let newPageIndex = Math.ceil(list.length / pageSize) || 1</code></li><li>注意最小值，只有 1 条数据时删除后最小的 pageIndex 也是 1。</li></ul></li><li>滚动查看协议后显示按钮-优化： <ul><li>通过监听 <code>scroll</code> 比较 <code>scrollTop, contentHeight, clientHeight </code> 来设置 <code>active</code></li><li>问题：点击按钮跳转页面还会触发 <code>scroll</code> 事件，我的优化是如果 <code>dom</code> 不存在了直接 返回。</li><li>优化：现在想想，感觉可以直接在设置 <code>active</code> 后移除 <code>scroll</code> 事件即可。</li></ul></li></ul><h2 id="任务" tabindex="-1">任务 <a class="header-anchor" href="#任务" aria-label="Permalink to &quot;任务&quot;">​</a></h2><ul><li>vue 源码视频，今天第 12 集，看的很困打瞌睡...</li><li>刷题：<a href="https://leetcode-cn.com/problems/sort-colors/" target="_blank" rel="noreferrer">75. 颜色分类</a> 中等难度。</li></ul><h2 id="todos" tabindex="-1">TODOS <a class="header-anchor" href="#todos" aria-label="Permalink to &quot;TODOS&quot;">​</a></h2><ul><li>周末学习 Nestjs</li><li>有空学习下 Docker，Nginx，DevOps 相关</li></ul>',8),c=[i];function r(d,n,s,h,_,u){return l(),o("div",null,c)}const f=e(t,[["render",r]]);export{m as __pageData,f as default};
